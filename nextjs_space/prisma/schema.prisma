

generator client {
    provider = "prisma-client-js"
    binaryTargets = ["native", "linux-musl-arm64-openssl-3.0.x"]
    output = "/home/ubuntu/quantumleap_enterprise/nextjs_space/node_modules/.prisma/client"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model ReadinessResult {
  id        String   @id @default(cuid())
  email     String?
  company   String?
  role      String?
  answers   Json
  score     Int
  riskLevel String
  dollarRisk String
  recommendations Json
  createdAt DateTime @default(now())
  
  @@map("readiness_results")
}

model Lead {
  id        String   @id @default(cuid())
  email     String   @unique
  firstName String?
  lastName  String?
  company   String?
  role      String?
  source    String?
  createdAt DateTime @default(now())
  
  @@map("leads")
}

model ExecutiveRiskResult {
  id                  String   @id @default(cuid())
  email               String?
  role                String
  txSize              String
  geo                 String
  profile             String
  reg                 String
  digital             String
  anomalies           String
  hunch               String
  riskScore           Int
  riskTier            String
  dollarExposureRange String
  primaryAction       String
  recommendations     String[]
  createdAt           DateTime @default(now())
  
  @@map("executive_risk_results")
}

model CyberRiskResult {
  id                  String   @id @default(cuid())
  email               String?
  employees           Int
  criticalSystems     Int
  thirdParties        Int
  incidentsLastYear   Int
  patchFrequency      String
  darkWebHits         String
  hasZeroTrust        String
  breachProbability   Int
  expectedLoss        Int
  riskTier            String
  recommendations     String[]
  createdAt           DateTime @default(now())
  
  @@map("cyber_risk_results")
}

// SMB-specific lead tables
model SMBLead {
  id        String   @id @default(cuid())
  email     String
  firstName String?
  lastName  String?
  company   String?
  phone     String?
  employees String?
  industry  String?
  source    String   @default("ai-workforce")
  createdAt DateTime @default(now())
  
  @@map("smb_leads")
}

model SMBAutomationLead {
  id        String   @id @default(cuid())
  email     String
  firstName String?
  lastName  String?
  company   String?
  phone     String?
  employees String?
  industry  String?
  source    String   @default("process-automation")
  createdAt DateTime @default(now())
  
  @@map("smb_automation_leads")
}

model SMBBackgroundCheckLead {
  id        String   @id @default(cuid())
  email     String
  firstName String?
  lastName  String?
  company   String?
  phone     String?
  employees String?
  industry  String?
  source    String   @default("background-checks")
  createdAt DateTime @default(now())
  
  @@map("smb_background_check_leads")
}

model SMBCyberLead {
  id        String   @id @default(cuid())
  email     String
  firstName String?
  lastName  String?
  company   String?
  phone     String?
  employees String?
  industry  String?
  source    String   @default("cyber-intelligence")
  createdAt DateTime @default(now())
  
  @@map("smb_cyber_leads")
}

model SMBTransformationLead {
  id        String   @id @default(cuid())
  email     String
  firstName String?
  lastName  String?
  company   String?
  phone     String?
  employees String?
  industry  String?
  source    String   @default("business-transformation")
  createdAt DateTime @default(now())
  
  @@map("smb_transformation_leads")
}
